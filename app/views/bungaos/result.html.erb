<% tweet_text = if @bungo.present?
  "#{@bungo.name}について知ったよ！これであなたも文豪マスタ＝！"
else
  "文豪豆知識をチェック！"
end %>

<div class="container mx-auto bg-[#EADCC3] px-4 pt-8 sm:pt-[150px] pb-20 sm:pb-[120px] flex flex-col items-center min-h-screen">
  <% if @bungo.present? %>
    <div class="flex flex-col sm:flex-row items-center sm:items-start justify-center gap-12 sm:gap-24 w-full">
      <!-- 文豪画像 -->
      <img src="<%= asset_path(@bungo.image_path) %>" alt="<%= @bungo.name %>"
        class="h-[177px] sm:h-[382px] rounded object-contain mx-auto sm:mx-0" />

      <!-- テキスト -->
      <div class="text-[#6C2C2F] font-shippori text-center sm:text-left max-w-[280px] sm:max-w-xl">
        <h2 class="mb-6 text-[16px] sm:text-[32px]">
          今回の主人公は
          <span class="font-medium text-[20px] sm:text-[36px]"><%= @bungo.name %>！</span>
        </h2>
        <p class="text-[16px] sm:text-[32px] whitespace-normal indent-0 m-0 p-0">
          <%= @bungo.fact.presence&.strip %>
        </p>
      </div>
    </div>
  <% else %>
    <p class="text-[#6C2C2F] font-shippori text-[24px] mt-12 text-center">文豪データが見つかりませんでした。</p>
  <% end %>

  <!-- ボタンエリア -->
  <div class="flex flex-col sm:flex-row items-center justify-center mt-12 sm:mt-16 gap-6 sm:gap-32 mb-16">
    <%= link_to "再び読む", bungaos_random_path,
      class: "w-[200px] h-[48px] sm:w-[266px] sm:h-[61px] rounded-[8px] bg-[#6C2C2F] flex items-center justify-center text-white text-[18px] sm:text-[32px] font-shippori font-normal hover:opacity-90 transition" %>

    <%= link_to "Xで共有する",
      "https://twitter.com/intent/tweet?text=#{CGI.escape(tweet_text)}&url=#{CGI.escape(root_url)}&hashtags=#{CGI.escape('文豪豆知識')}",
      target: "_blank",
      rel: "noopener noreferrer",
      class: "w-[200px] h-[48px] sm:w-[266px] sm:h-[61px] rounded-[8px] bg-[#6C2C2F] flex items-center justify-center text-white text-[18px] sm:text-[32px] font-shippori font-normal hover:opacity-90 transition" %>
  </div>
</div>
